{"version":3,"sources":["services/personService.js","App.js","index.js"],"names":["baseURL","personService","axios","get","then","response","data","addable","post","id","delete","concat","update","put","Search","_ref","value","handleChange","react_default","a","createElement","Fragment","onChange","NewPersonForm","_ref2","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","List","_ref3","persons","search","remove","filter","p","name","toLowerCase","includes","map","App_Person","key","person","Person","_ref4","number","onClick","Notification","_ref5","message","style","width","fontSize","backgroundColor","color","border","padding","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearch","_useState9","_useState10","notification","setNotification","useEffect","showNotification","setTimeout","App_Notification","App_Search","event","target","App_NewPersonForm","preventDefault","found","find","window","confirm","objectSpread","catch","error","console","log","App_List","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c2d9a0d5.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseURL).then(response => response.data)\n}\n\nconst create = (addable) => {\n    return axios.post(baseURL, addable).then(response => response.data)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseURL}/${id}`)\n}\n\nconst update = (id, update) => {\n    return axios.put(`${baseURL}/${id}`, update).then(response => response.data)\n}\n\nexport default ({ getAll, create, remove, update })","import React, { useState, useEffect } from 'react'\nimport personService from './services/personService'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const found = persons.find(person => person.name === newName)\n\n    if (found) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        personService.update(found.id, {...found, number: newNumber}).then(response => {\n          setPersons(persons.map(p => p.id !== found.id ? p : response))\n          setNewName('')\n          setNewNumber('')\n          showNotification(`${found.name} was updated successfully`, 'success')\n        })\n        .catch(error => {\n          console.log(error)\n          setPersons(persons.filter(p => p.id !== found.id))\n          setNewName('')\n          setNewNumber('')\n          showNotification(`${found.name} has already been deleted!`, 'error')\n        })\n      }\n    } else {\n      const addable = {\n        name: newName,\n        number: newNumber,\n      }\n      personService.create(addable).then(response => {\n        setPersons(persons.concat(response))\n        setNewName('')\n        setNewNumber('')\n        showNotification(`${addable.name} was added successfully`, 'success')\n      }).catch(error => {\n        showNotification(error.response.data)\n      })\n    }\n  }\n\n  const removePerson = (person) => (\n    () => {\n      if(window.confirm(`Delete ${person.name}?`)){\n        personService.remove(person.id).then(response => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          showNotification(`${person.name} was removed successfully`, 'success')\n        })\n        .catch(error => {\n          console.log(error)\n          setPersons(persons.filter(p => p.id !== person.id))\n          showNotification(`${person.name} has already been deleted!`, 'error')\n        })\n      }\n    }\n  )\n\n  const showNotification = (message, type) => {\n    setNotification({message, type})\n    setTimeout(() => {\n      setNotification(null)\n    }, 3000)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      {notification !== null ? <Notification message={notification.message} type={notification.type} /> : ''}\n      <Search value={search} handleChange={handleSearchChange} />\n      <NewPersonForm addPerson={addPerson} \n        newName={newName} \n        handleNameChange={handleNameChange} \n        newNumber={newNumber} \n        handleNumberChange={handleNumberChange}\n      />\n      <List persons={persons} search={search} remove={removePerson} />\n    </div>\n  )\n}\n\nconst Search = ({ value, handleChange }) => {\n  return (\n    <>\n      <h2>Filter shown with: </h2>\n      <form>\n        <input value={value} onChange={handleChange}></input>\n      </form>\n    </>\n  )\n}\n\nconst NewPersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          name: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nconst List = ({ persons, search, remove }) => {\n  return (\n    <>\n      <h2>Numbers</h2>\n      {persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase()))\n        .map(p => <Person key={p.id} person={p} remove={remove(p)}/>)}\n    </>\n  )\n}\n\nconst Person = ({person, remove}) => {\n  \n  return (\n    <div>\n      <span>{person.name}: {person.number}</span>\n      <button onClick={remove}>Remove</button>\n    </div>\n  )\n}\n\nconst Notification = ({ message, type }) => {\n  const successStyle = {\n    width: \"80vw\",\n    fontSize: 20,\n    backgroundColor: \"lightgray\",\n    color: \"green\",\n    border: \"2px solid green\",\n    padding: 5\n  }\n\n  const errorStyle = {\n    width: \"80vw\",\n    fontSize: 20,\n    backgroundColor: \"lightgray\",\n    color: \"red\",\n    border: \"2px solid red\",\n    padding: 5\n  }\n\n  return (\n    <div style={type === 'success' ? successStyle : errorStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}